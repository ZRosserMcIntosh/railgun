# Rail Gun API - Environment Configuration
# Copy this file to .env and update with your values

# =============================================================================
# Node Environment
# =============================================================================
NODE_ENV=development
PORT=3001

# =============================================================================
# Database Configuration
# =============================================================================

# Option 1: Supabase/Cloud Database (Production)
# Use the connection string from your Supabase dashboard:
# Project Settings → Database → Connection string → URI
#DATABASE_URL=postgresql://postgres:mlOvTgasXoDVx7tZ RAILGUN PASSWORD@db.xxxxxxxxxxxx.supabase.co:5432/postgres

# Option 2: Local Development (individual params)
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=railgun
DATABASE_PASSWORD=railgun_dev_password
DATABASE_NAME=railgun

# Connection pool size (Supabase free tier: keep low ~5-10)
DATABASE_POOL_MAX=10

# =============================================================================
# Redis Configuration
# =============================================================================

# Option 1: Upstash Redis (Production - free tier available)
# REDIS_URL=rediss://default:xxxx@xxx.upstash.io:6379

# Option 2: Local Development
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# =============================================================================
# JWT Configuration
# =============================================================================

# Generate with: openssl rand -base64 64
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# =============================================================================
# QR Auth Sessions
# =============================================================================

# Session TTL in minutes (default: 5)
AUTH_SESSION_TTL_MINUTES=5

# =============================================================================
# Stripe Configuration (Pseudonymous Billing)
# =============================================================================

# Get from Stripe Dashboard → Developers → API keys
# STRIPE_SECRET_KEY=sk_test_xxx
# STRIPE_WEBHOOK_SECRET=whsec_xxx
# STRIPE_PRO_PRICE_ID=price_xxx

# HMAC key for generating billing_ref surrogates
# Generate with: openssl rand -base64 32
# BILLING_HMAC_SECRET=xxx

# =============================================================================
# CORS
# =============================================================================

CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# =============================================================================
# Rate Limiting
# =============================================================================

RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100
